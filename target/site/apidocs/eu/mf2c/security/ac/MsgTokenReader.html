<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Mon Jul 29 17:24:43 BST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MsgTokenReader (aclib 0.0.1-SNAPSHOT API)</title>
<meta name="date" content="2019-07-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MsgTokenReader (aclib 0.0.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MsgTokenReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/mf2c/security/ac/MsgTokenBuilder.html" title="class in eu.mf2c.security.ac"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/mf2c/security/ac/MsgTokenReader.html" target="_top">Frames</a></li>
<li><a href="MsgTokenReader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.mf2c.security.ac</div>
<h2 title="Class MsgTokenReader" class="title">Class MsgTokenReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>eu.mf2c.security.ac.MsgTokenReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">MsgTokenReader</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A general purpose consumer that takes in a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code><em>String</em></code></a> representation of a message token, unpacks it in line with
 the specified <a href="../../../../eu/mf2c/security/ac/utility/Security.html" title="enum in eu.mf2c.security.ac.utility"><code><em>Security</em></code></a>
 policy to extract the payload message.
 <p>
 author Shirley Crompton email shirley.crompton@stfc.ac.uk org Data Science
 and Technology Group, UKRI Science and Technology Council Created 21 Mar 2019</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#LOGGER">LOGGER</a></span></code>
<div class="block">Message Logger</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../eu/mf2c/security/ac/utility/Type.html" title="enum in eu.mf2c.security.ac.utility">Type</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#typ">typ</a></span></code>
<div class="block">Token type attribute</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#vers">vers</a></span></code>
<div class="block">library version</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#MsgTokenReader-java.lang.String-eu.mf2c.security.ac.utility.Type-">MsgTokenReader</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;token,
              <a href="../../../../eu/mf2c/security/ac/utility/Type.html" title="enum in eu.mf2c.security.ac.utility">Type</a>&nbsp;typ)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#decompress-byte:A-">decompress</a></span>(byte[]&nbsp;data)</code>
<div class="block">Decompress the payload using the RFC1951 compression algorithm.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#decompress-org.jose4j.jwx.Headers-">decompress</a></span>(org.jose4j.jwx.Headers&nbsp;headers)</code>
<div class="block">Check if the zip header element is set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#getEncryptedKey-java.lang.Object-">getEncryptedKey</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;rec)</code>
<div class="block">Get the JWE encrypted key from the per&#45;recipient header object matching this
 Agent&#39;s device id against the key id element value.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.jose4j.jwe.JsonWebEncryption</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#getJWE-java.lang.String-">getJWE</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;compactSerialization)</code>
<div class="block">Get a basic Json Web Encryption object.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#handleJWE--">handleJWE</a></span>()</code>
<div class="block">Handle JWE, verify the authenticity and decrypt the payload.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#handleJWS--">handleJWS</a></span>()</code>
<div class="block">Handle JWS, verify the signature and get the payload.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#handleToken--">handleToken</a></span>()</code>
<div class="block">Get the payload message from the plain, JWS and JWE tokens or validate claims for signed
 JWT token.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#isPrevetted-java.lang.String-java.lang.String-">isPrevetted</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;headers,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type)</code>
<div class="block">Perform preliminary check to see if we can work with the token.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#isRecipient--">isRecipient</a></span>()</code>
<div class="block">Check if this Agent is a recipient of the multi&#45;recipient Json Web Token.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../eu/mf2c/security/ac/MsgTokenReader.html#isSupported-java.lang.String-">isSupported</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encHeaders)</code>
<div class="block">Perform a preliminary check to see if the ac library version is supported.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>protected&nbsp;org.apache.log4j.Logger LOGGER</pre>
<div class="block">Message Logger</div>
</li>
</ul>
<a name="typ">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>typ</h4>
<pre>protected&nbsp;<a href="../../../../eu/mf2c/security/ac/utility/Type.html" title="enum in eu.mf2c.security.ac.utility">Type</a> typ</pre>
<div class="block">Token type attribute</div>
</li>
</ul>
<a name="vers">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>vers</h4>
<pre>protected static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> vers</pre>
<div class="block">library version</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MsgTokenReader-java.lang.String-eu.mf2c.security.ac.utility.Type-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MsgTokenReader</h4>
<pre>public&nbsp;MsgTokenReader(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;token,
                      <a href="../../../../eu/mf2c/security/ac/utility/Type.html" title="enum in eu.mf2c.security.ac.utility">Type</a>&nbsp;typ)
               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - the token String to process</dd>
<dd><code>typ</code> - the token type</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if null or an empty String is received</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="handleToken--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleToken</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;handleToken()
                   throws <a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></pre>
<div class="block">Get the payload message from the plain, JWS and JWE tokens or validate claims for signed
 JWT token.  For signed JWS, JWT and JWE, the integrity of the 
 token is verified before can be extracted.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the plaintext payload or OK for JWT if operation is successful</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></code> - on processing errors</dd>
</dl>
</li>
</ul>
<a name="isPrevetted-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPrevetted</h4>
<pre>public&nbsp;boolean&nbsp;isPrevetted(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;headers,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type)
                    throws <a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></pre>
<div class="block">Perform preliminary check to see if we can work with the token. We check if
 the security library version is supported and if the token type is correct
 for the specified mf2c policy
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>headers</code> - a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code><em>String</em></code></a> of the header object</dd>
<dd><code>type</code> - token type, it needs to be one of&#58;
            <ul>
            <li>ujws &#58; unsigned for a public message</li>
            <li>jws &#58; signed for a protected message</li>
            <li>jwe &#58; encrypted for a private message</li>
            </ul></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if supported, else false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></code> - on error extracting the library version</dd>
</dl>
</li>
</ul>
<a name="isSupported-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSupported</h4>
<pre>public static&nbsp;boolean&nbsp;isSupported(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;encHeaders)
                           throws <a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></pre>
<div class="block">Perform a preliminary check to see if the ac library version is supported.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>encHeaders</code> - a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code><em>String</em></code></a> representation of the header object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if supported, else false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></code> - on error extracting the version header element</dd>
</dl>
</li>
</ul>
<a name="decompress-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decompress</h4>
<pre>public&nbsp;byte[]&nbsp;decompress(byte[]&nbsp;data)
                  throws org.jose4j.lang.JoseException</pre>
<div class="block">Decompress the payload using the RFC1951 compression algorithm. Based on the
 JOSE4J code.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the payload bytes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the decompressed payload bytes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.jose4j.lang.JoseException</code> - on error</dd>
</dl>
</li>
</ul>
<a name="decompress-org.jose4j.jwx.Headers-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decompress</h4>
<pre>public&nbsp;boolean&nbsp;decompress(org.jose4j.jwx.Headers&nbsp;headers)</pre>
<div class="block">Check if the zip header element is set.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>headers</code> - the JWS <code><em>Headers</em></code> object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if zip element is set, else false</dd>
</dl>
</li>
</ul>
<a name="getJWE-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJWE</h4>
<pre>public&nbsp;org.jose4j.jwe.JsonWebEncryption&nbsp;getJWE(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;compactSerialization)
                                        throws org.jose4j.lang.JoseException</pre>
<div class="block">Get a basic Json Web Encryption object.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compactSerialization</code> - a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code><em>String</em></code></a>
                        representation of the JOSE compact serialization JWE</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code><em>JsonWebEncryption</em></code> object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.jose4j.lang.JoseException</code> - on error</dd>
</dl>
</li>
</ul>
<a name="getEncryptedKey-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptedKey</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getEncryptedKey(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;rec)</pre>
<div class="block">Get the JWE encrypted key from the per&#45;recipient header object matching this
 Agent&#39;s device id against the key id element value.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rec</code> - The per&#45;recipient header object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The encoded encrypted key if found, else null</dd>
</dl>
</li>
</ul>
<a name="isRecipient--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRecipient</h4>
<pre>public&nbsp;boolean&nbsp;isRecipient()</pre>
<div class="block">Check if this Agent is a recipient of the multi&#45;recipient Json Web Token.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if Agent is listed as a recipient, else false</dd>
</dl>
</li>
</ul>
<a name="handleJWE--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleJWE</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;handleJWE()
                 throws <a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></pre>
<div class="block">Handle JWE, verify the authenticity and decrypt the payload.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the plaintext payload</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></code> - on procesing errors, including verification and key errors.</dd>
</dl>
</li>
</ul>
<a name="handleJWS--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleJWS</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;handleJWS()
                 throws <a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></pre>
<div class="block">Handle JWS, verify the signature and get the payload.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the plaintext payload</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../eu/mf2c/security/ac/exception/MsgTokenReaderException.html" title="class in eu.mf2c.security.ac.exception">MsgTokenReaderException</a></code> - on processing and signature errors.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MsgTokenReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../eu/mf2c/security/ac/MsgTokenBuilder.html" title="class in eu.mf2c.security.ac"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?eu/mf2c/security/ac/MsgTokenReader.html" target="_top">Frames</a></li>
<li><a href="MsgTokenReader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://stfc.ukri.org/">UKRI-STFC</a>. All rights reserved.</small></p>
</body>
</html>
